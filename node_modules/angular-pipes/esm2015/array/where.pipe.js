import * as tslib_1 from "tslib";
import { Pipe } from '@angular/core';
import { isArray, isFunction, getProperty } from '../utils/utils';
let WherePipe = class WherePipe {
    /**
    * Support a function or a value or the shorthand ['key', value] like the lodash shorthand.
    */
    transform(input, fn) {
        if (!isArray(input)) {
            return input;
        }
        if (isFunction(fn)) {
            return input.filter(fn);
        }
        else if (isArray(fn)) {
            const [key, value] = fn;
            return input.filter((item) => getProperty(item, key) === value);
        }
        else if (fn) {
            return input.filter((item) => item === fn);
        }
        else {
            return input;
        }
    }
};
WherePipe = tslib_1.__decorate([
    Pipe({
        name: 'where'
    })
], WherePipe);
export { WherePipe };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hlcmUucGlwZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItcGlwZXMvIiwic291cmNlcyI6WyJhcnJheS93aGVyZS5waXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFrQixNQUFNLGVBQWUsQ0FBQztBQUNyRCxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUtsRSxJQUFhLFNBQVMsR0FBdEIsTUFBYSxTQUFTO0lBRXBCOztNQUVFO0lBQ0YsU0FBUyxDQUFFLEtBQVUsRUFBRSxFQUFPO1FBRTVCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDbkIsT0FBTyxLQUFLLENBQUE7U0FDYjtRQUVELElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ2xCLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN6QjthQUNJLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3BCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3hCLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQztTQUN0RTthQUNJLElBQUksRUFBRSxFQUFFO1lBQ1gsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLENBQUM7U0FDakQ7YUFDSTtZQUNILE9BQU8sS0FBSyxDQUFDO1NBQ2Q7SUFFSCxDQUFDO0NBQ0YsQ0FBQTtBQTFCWSxTQUFTO0lBSHJCLElBQUksQ0FBQztRQUNKLElBQUksRUFBRSxPQUFPO0tBQ2QsQ0FBQztHQUNXLFNBQVMsQ0EwQnJCO1NBMUJZLFNBQVMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtICB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCBnZXRQcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbkBQaXBlKHtcclxuICBuYW1lOiAnd2hlcmUnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBXaGVyZVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuICBcclxuICAvKiogXHJcbiAgKiBTdXBwb3J0IGEgZnVuY3Rpb24gb3IgYSB2YWx1ZSBvciB0aGUgc2hvcnRoYW5kIFsna2V5JywgdmFsdWVdIGxpa2UgdGhlIGxvZGFzaCBzaG9ydGhhbmQuXHJcbiAgKi9cclxuICB0cmFuc2Zvcm0gKGlucHV0OiBhbnksIGZuOiBhbnkpOiBhbnkge1xyXG4gICAgXHJcbiAgICBpZiAoIWlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgIHJldHVybiBpbnB1dFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgcmV0dXJuIGlucHV0LmZpbHRlcihmbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGZuKSkge1xyXG4gICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBmbjtcclxuICAgICAgcmV0dXJuIGlucHV0LmZpbHRlcigoaXRlbTogYW55KSA9PiBnZXRQcm9wZXJ0eShpdGVtLCBrZXkpID09PSB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbikge1xyXG4gICAgICByZXR1cm4gaW5wdXQuZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0gPT09IGZuKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICB9XHJcbiAgICBcclxuICB9XHJcbn0iXX0=